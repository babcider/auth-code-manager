# 인증 및 권한 관리

## 사용자 인증

### 로그인 방식
- 구글 OAuth 로그인
- 이메일/비밀번호 로그인

### 회원가입 프로세스
1. 사용자가 이메일 회원가입 또는 구글 로그인으로 계정 생성
2. 이메일 인증 완료 (이메일 회원가입의 경우)
3. 관리자 승인 대기 상태로 전환
4. 관리자가 계정 활성화 승인
5. 로그인 가능 상태로 전환

## 권한 관리

### 사용자 역할
- 관리자 (admin)
  - 모든 기능 접근 가능
  - 사용자 계정 관리
  - 인증 코드 생성 및 관리
  - 감사 로그 조회
- 일반 사용자 (user)
  - 인증 코드 조회
  - 만료일 수정
  - 코드 상태 변경

### 계정 상태
- 대기 중 (is_active: false)
  - 새로 생성된 계정의 초기 상태
  - 로그인 불가
  - 관리자 승인 필요
- 활성화 (is_active: true)
  - 정상적으로 서비스 이용 가능
  - 할당된 역할에 따른 기능 사용 가능

## 감사 로그

### 기록되는 이벤트
- 로그인/로그아웃
- 계정 생성
- 권한 변경
- 인증 코드 생성/수정/삭제

### 로그 정보
- 이벤트 발생 시간
- 사용자 이메일
- 사용자 역할
- IP 주소
- 이벤트 상세 정보

## 보안 설정

### 비밀번호 정책
- 최소 8자 이상
- 대소문자, 숫자, 특수문자 포함

### 세션 관리
- JWT 기반 인증
- 자동 로그아웃 (1시간 미활동)
- 다중 로그인 허용

### API 보안
- 인증된 요청만 허용
- CORS 설정
- Rate Limiting 적용 